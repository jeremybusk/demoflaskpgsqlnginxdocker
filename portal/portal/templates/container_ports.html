{% extends 'base.html' %}
{% from 'bootstrap/form.html' import render_form, render_field %}

{% block content %}
  <h3 class="text-center">Container Port Maps</h3>

 <div style="display: flex;">
    <form method="post">
      <div class="md-form">
        <input id="container_name" name="container_name" type="text" class="form-control" pattern="h.+" required>
        <label for="container_name">Container Name</label>
      </div>
      <div class="md-form">
        <input id="internal_port" name="internal_port" type="text" class="form-control" pattern="[0-9]*" autocomplete="on" required>
        <label for="internal_port">TCP Service Port Number</label>
      <button type="submit" name="submit_button" value="create_container_port_map" class="btn btn-sm btn-secondary">Create Container TCP Service Map</button>
      </div>
    </form>
  </div>
  <br>


  <table class="table table-striped">
    <tr>
      <th>Container Name</th>
      <th>IPv4 Address</th>
      <th>Transport Protocol</th>
      <th>Proxy Port (External)</th>
      <th>Container Port (Internal)</th>
    </tr>
  {% for container_port in container_ports %}
    <tr>
      {# % set app_name = container_port.app_name.split('.')[1] %#}
      <td>{{container_port.name}}</td>
      <td>{{container_port.ipv4_address}}</td>
      <td>tcp</td>
      <td>{{container_port.proxy_port}}</td>
      <td>{{container_port.container_port}}</td>
    </tr>
  {% endfor %}
  </table>
{% endblock %}
